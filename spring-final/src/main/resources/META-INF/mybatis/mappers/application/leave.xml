<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.jhta.dao.appli.LeaveDao">

	<insert id="addNewLeave" parameterType="Leave">
		INSERT INTO L_LEAVE 
			(L_NO as no, 
			STU_NO as stuNo, 
			C_CODE as code, 
			L_REINDATE) 
		VALUES
			(L_LEAVE_SEQ, 
			#{stuNo}, 
			#{code}, 
			#{reinDate})
	</insert>

	<select id="getAllEnrolledLeaveByStuNo" parameterType="int" resultType="Leave">
		SELECT L_LEAVE.L_NO as no,
				L_LEAVE.STU_NO as stuNo, 
				L_LEAVE.C_CODE as code,
				L_LEAVE.L_ENROLLDATE as enrollDate,
				L_LEAVE.L_PASS as pass,
				L_LEAVE.L_OKAYDATE as okayDate,
				L_LEAVE.L_REINDATE as reinDate,
				L_LEAVE.L_REMAINNUM as remainNum
		FROM L_LEAVE WHERE STU_NO = #{stuNo}
	</select>

</mapper>